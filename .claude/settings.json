{
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  },
  "permissions": {
    "allow": [
      "Read",
      "Write",
      "Edit",
      "Glob",
      "Grep",
      "Bash(git *)",
      "Bash(tmux *)",
      "Bash(npm *)",
      "Bash(uv *)",
      "Bash(pytest *)",
      "Bash(cat *)",
      "Bash(ls *)",
      "Bash(mkdir *)",
      "Skill(*)",
      "Task(*)"
    ]
  },
  "hooks": {
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '[Ensemble] コンパクション実行。再開時は自分のペイン名を確認し、エージェント定義を読み直すこと'",
            "statusMessage": "コンパクション前処理"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "cat status/dashboard.md 2>/dev/null || echo 'Dashboard not found'",
            "statusMessage": "ダッシュボード読み込み"
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/scripts/session-scan.sh",
            "statusMessage": "コードベーススキャン",
            "timeout": 30000
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/scripts/notify-stop.sh",
            "statusMessage": "作業完了通知",
            "timeout": 3000
          }
        ]
      }
    ],
    "PostToolUseFailure": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/scripts/notify-error.sh",
            "statusMessage": "エラー通知",
            "timeout": 3000
          }
        ]
      }
    ],
    "WorktreeCreate": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/scripts/notify-worktree.sh",
            "statusMessage": "Worktree作成ログ記録",
            "timeout": 3000
          }
        ]
      }
    ],
    "WorktreeRemove": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/hooks/scripts/notify-worktree.sh",
            "statusMessage": "Worktreeクリーンアップログ記録",
            "timeout": 3000
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "bash scripts/statusline.sh"
  }
}
